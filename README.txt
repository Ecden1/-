医院住院信息管理系统

项目功能：
  基于Python+PyQt5+SQL Server开发的桌面端数据库管理系统，实现医院各类住院相关信息的可视化增删改查操作。

一、技术栈
界面框架：PyQt5
数据库连接：pyodbc
数据库：SQL Server

二、核心功能
系统支持科室表、医生表、患者表、药品表、病房表、患者用药表、共6类数据的管理，所有表均支持基础的新增、查询、修改、删除操作：
1. 新增：填写表单信息后点击新增，数据可直接写入数据库；
2. 查询：在上方查询框中选择查询字段并输入关键词，若为空可查询全表数据，支持模糊查询；
3. 修改：填写原主键值定位目标数据，再填写待修改字段完成更新；
4. 删除：填写原主键值，确认后删除对应数据。

针对医生表、患者表做了多表关联优化：查询展示时，医生表可同步显示所属科室名称及地址，患者表可同步显示主治医师姓名及所属科室，无需跨表核对信息。

三、使用方法
1. 环境准备：安装Python 3.8+，执行pip install pyqt5 pyodbc
   安装依赖库；确保本地SQL Server服务已启动，创建名为hospital的数据库并建立对应数据表。
2. 运行配置：修改代码中get_db函数的数据库连接信息适配本地SQL Server配置，执行主程序即可启动系统。

四、注意事项/优化方向

1.系统仅实现核心数据的增删改查与基础关联查询，未涵盖管理员与用户权限区分，账密登录，住院费用结算、医嘱管理、数据统计分析等实际医院管理中常用的功能，实用性有待拓展。
2.查询功能单一，仅支持单字段模糊查询与预设的多表关联查询，未提供多字段组合查询、精准查询、按时间范围查询等更灵活的检索方式，难以满足复杂查询场景需求。
3. 主键不可直接修改，如需调整主键信息，建议先删除原数据再重新新增；
4.由于在建表时外键配置都是默认的限制删除，没有设置级联删除，因此无法直接删除被其他表关联的表数据，只有当该元组没有任何关联数据时才能删除成功。
！！（尤其注意第4条，很可能因为数据输入的不注意导致删除失败，验收的时候被坑过）！！
5. 背景图需命名为hospital_bg.jpg放在项目根目录，无需背景图可注释相关代码，用户想更换背景图可以图片进行更名并放入项目文件夹中。
6.由于多表关联，项目中在创建患者用药表等连接关系表中受参照完整性约束无法创建目前被参照表中不存在的主键，创建与修改数据时多加注意。因为该设定合理，因此本项目不予改动。
（尤其是患者表，在创建患者信息时，必须保证此时的主治医师编号和病房号已经存在！）
7.数据可视化不足，查询结果仅以表格形式展示，缺乏图表等可视化呈现方式，无法直观展示数据规律。
8.在部分功能的失败分支中，可能不会出现编辑好的失败原因提示，系统bug，但不刻意输入失败案例的话应付验收够了。
9.在测试中发现，在仅以电话号码、地址、价格、库存数作为查询条件时，仅输入1个数字，查询结果会输出该项包含该数字所有结果，原因是这些列在被创建时采用的是varchar定义，虽然有点违和，但仍能简单地达到用户要求实现查询结果，因此本项目中不再针对该问题进行优化，在建表插入数据后才发现该问题，算是设计粗心造成的项目瑕疵。
10.由于创建科室表时对部门编号仅设置了1位长度限制，因此目前表中科室元组已满，无法再进行添加。若要改动，需在改变表部门编号为char(2)设定，并对与科室表关联的表全部删除并重新创建，优化成本过大，因此本项目不予改动，但可作为后期的重要优化方向，建议在科室表中仅展示查询与修改操作。

上述注意事项中，9及以后的注意事项基本可以归因于插入数据集的疏忽，若自行建表修改表定义以及合理选取数据集可以有效规避这些问题。

